<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-tsx-77a099543e27dc8cff12.js" as="script"/><link rel="preload" href="/component---src-templates-post-tsx-91024bc76e2b3f4896a5.js" as="script"/><link rel="preload" href="/path---conditional-array-object-literals-bc6dbd07f0df423d5c47.js" as="script"/><link rel="preload" href="/app-a36c9737df78aac4f33a.js" as="script"/><link rel="preload" href="/commons-62eb3f41998dd1c81c42.js" as="script"/><style data-styled-components="ZWAwl fcYGcj kReFYe fCcvMz grqlRo qbZXH rUvxO ElYaY jmzbrI irnXRX gAJevg bCxJDw bOBFID boxYda hzPkBe jkcuzi kMFOnt drfYBY eSLpRO cwzPxQ">
/* sc-component-id: sc-bdVaJa */
.cwzPxQ{text-align:center;margin:4rem 0 2.5rem 0;font-size:1.4em;color:#adadad;} @media only screen and (max-width:800px){.cwzPxQ{font-size:1.2em;}}
/* sc-component-id: sc-global-1031813546 */
html{height:100%;font-size:10px;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;} body{min-height:100%;} *{margin:0;padding:0;box-sizing:border-box;} a{-webkit-text-decoration:none;text-decoration:none;color:inherit;}
/* sc-component-id: sc-bwzfXH */
.ZWAwl{display:grid;min-height:100vh;grid-template-rows:auto 1fr auto;}
/* sc-component-id: sc-htpNat */
.kReFYe{background-image:url(/static/bg-blue-noise.425da07f.png);color:white;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;-webkit-transition:height 1s ease;transition:height 1s ease;height:5rem;padding:0;position:fixed;box-shadow:0 3px 5px rgba(57,63,72,0.15);}
/* sc-component-id: sc-bxivhb */
.fCcvMz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:1rem 0;}
/* sc-component-id: sc-ifAKCX */
.grqlRo{font-size:2.6rem;line-height:2.5rem;-webkit-letter-spacing:1.1px;-moz-letter-spacing:1.1px;-ms-letter-spacing:1.1px;letter-spacing:1.1px;-webkit-transition:font-size 1s ease;transition:font-size 1s ease;}
/* sc-component-id: sc-EHOje */
.qbZXH{color:#9dc59fd1;font-size:.9em;margin:0 .6rem 0 .5rem;font-weight:normal;}
/* sc-component-id: sc-gzVnrw */
.boxYda{width:100%;max-width:850px;}
/* sc-component-id: sc-htoDjs */
.jkcuzi{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:0 16px;}
/* sc-component-id: sc-dnqmqq */
.hzPkBe{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;font-size:15px;margin:10rem 0 6rem 0;line-height:0px;-webkit-letter-spacing:20px;-moz-letter-spacing:20px;-ms-letter-spacing:20px;letter-spacing:20px;color:#c5c5c5;text-align:center;}
/* sc-component-id: sc-iwsKbI */
.kMFOnt{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;opacity:.7;} .kMFOnt:hover{opacity:1;}
/* sc-component-id: sc-gZMcBi */
.eSLpRO{width:32px;height:32px;margin-left:16px;}
/* sc-component-id: sc-gqjmRU */
.drfYBY{font-size:1.6em;}
/* sc-component-id: sc-VigVT */
.fcYGcj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-width:0;}
/* sc-component-id: sc-jTzLTM */
.rUvxO{width:100%;background-color:#f8f8f8;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:64px 0 56px;margin-top:5rem;margin-bottom:32px;min-height:20rem;} @media only screen and (max-width:800px){.rUvxO{padding:32px 0 28px;}}
/* sc-component-id: sc-fjdhpX */
.ElYaY{max-width:850px;width:100%;padding:0 16px;}
/* sc-component-id: sc-jzJRlG */
.bCxJDw{width:100%;max-width:850px;font-size:2em;padding:0 16px;margin-bottom:2rem;}
/* sc-component-id: sc-cSHVUG */
.jmzbrI{color:#352f4a;font-weight:bold;margin-bottom:8px;font-size:3.2em;} @media only screen and (max-width:800px){.jmzbrI{margin-bottom:2rem;font-size:2.5em;}}
/* sc-component-id: sc-kAzzGY */
.irnXRX{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;color:#adadad;font-size:1.6em;}
/* sc-component-id: sc-chPdSV */
.gAJevg{margin:0 12px;}
/* sc-component-id: sc-kgoBCf */
.bOBFID{max-width:850px;font-size:1.6em;line-height:1.8em;color:#333333;padding:0 16px;width:100%;} .bOBFID > *:not(:first-child){margin-top:32px;} @media only screen and (max-width:880px){.bOBFID h1,.bOBFID h2,.bOBFID h3,.bOBFID h4,.bOBFID h5,.bOBFID h6{margin-left:1rem;}} .bOBFID h2 + *,.bOBFID h3 + *,.bOBFID h4 + *,.bOBFID h5 + *,.bOBFID h6 + *{margin-top:16px !important;} .bOBFID hr{border-top:none;border-color:lightgray;} .bOBFID ul,.bOBFID ol{margin-left:1.1em;} .bOBFID a{color:#3ea7bb;-webkit-text-decoration:underline;text-decoration:underline;} .bOBFID a:visited{color:#3ea7bb;} .bOBFID img{border-radius:4px;max-width:100%;} .bOBFID img + em,.bOBFID .gatsby-resp-image-wrapper + em{display:block;width:100%;font-size:1.4rem;font-style:normal;line-height:2rem;text-align:center;margin-top:8px;} .bOBFID pre{overflow:auto;padding:12px;font-size:1.4rem;border-radius:4px;} .bOBFID pre code{padding:0;} .bOBFID code{background-color:#f8f8f8;padding:4px 8px;font-size:14px;} .bOBFID blockquote{background-color:#352f4a;padding-left:8px;color:#757575;font-style:italic;} .bOBFID blockquote p{background-color:white;padding-left:8px;} .bOBFID iframe{border:none;}</style><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><title data-react-helmet="true">Conditionally adding entries to array and object literals in Javascript | code &amp; such</title><meta data-react-helmet="true" name="theme-color" content="#352f4a"/><meta data-react-helmet="true" name="description" content="The problem A common way to define an array in Javascript is to use an array literal. However, it’s sometimes desirable to populate the array conditionally based on the value of some variable. Perhaps you’ve attempted to accomplish this in the past with a ternary operator: or with the   operator. Both of the above…"/><style id="gatsby-inlined-css">pre{color:#1b1b1b;background-color:#f8f8f8}.token.cdata,.token.doctype,.token.prolog{color:#3ea7bb}.token.block-comment,.token.comment,.token.punctuation{color:#5f6364}.token.atrule,.token.attr-value,.token.boolean,.token.constant,.token.deleted,.token.function-name,.token.keyword,.token.number,.token.property,.token.symbol,.token.tag{color:#f05f40}.token.attr-name,.token.builtin,.token.char,.token.class-name,.token.function,.token.inserted,.token.selector,.token.string{color:#3ea7bb}.token.entity,.token.important,.token.operator,.token.regex,.token.url,.token.variable{color:#9756e1}.language-css .token.string,.style .token.string{color:#3ea7bb}.token.important{font-weight:400}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.namespace{opacity:.7}.token.cr:before,.token.lf:before,.token.tab:not(:empty):before{color:#e0d7d1}</style></head><body><div id="___gatsby"><div class="sc-bwzfXH ZWAwl" data-reactroot="" data-reactid="1" data-react-checksum="-756156890"><!-- react-empty: 2 --><div class="sc-VigVT fcYGcj" data-reactid="3"><!-- react-empty: 4 --><a class="sc-htpNat kReFYe" href="/" data-reactid="5"><div class="sc-bxivhb fCcvMz" data-reactid="6"><h1 class="sc-ifAKCX grqlRo" data-reactid="7"><!-- react-text: 8 -->code<!-- /react-text --><span class="sc-EHOje qbZXH" data-reactid="9">&amp;</span><!-- react-text: 10 -->such<!-- /react-text --></h1></div></a><header class="sc-jTzLTM rUvxO" data-reactid="11"><div class="sc-fjdhpX ElYaY" data-reactid="12"><h1 class="sc-cSHVUG jmzbrI" data-reactid="13">Conditionally adding entries to array and object literals in Javascript</h1><div class="sc-kAzzGY irnXRX" data-reactid="14"><!-- react-text: 15 -->Kalle Bornemark<!-- /react-text --><span class="sc-chPdSV gAJevg" data-reactid="16">•</span><!-- react-text: 17 -->31st August 2018<!-- /react-text --><span class="sc-chPdSV gAJevg" data-reactid="18">•</span><!-- react-text: 19 -->3 min read<!-- /react-text --></div></div></header><div class="sc-jzJRlG bCxJDw" data-reactid="20"><a href="/" data-reactid="21">←</a></div><article class="sc-kgoBCf bOBFID" data-reactid="22"><h2 id="the-problem"><a href="#the-problem" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The problem</h2>
<p>A common way to define an array in Javascript is to use an array literal.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"burrito 🥙"</span><span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"strawberry 🍓"</span><span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"bottle of champagne 🍾"</span><span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>However, it’s sometimes desirable to populate the array conditionally based on the value of some variable. Perhaps you’ve attempted to accomplish this in the past with a ternary operator:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"burrito 🥙"</span><span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"strawberry 🍓"</span><span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"bottle of champagne 🍾"</span><span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  isSunny <span class="token operator">?</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"sunglasses 🕶"</span><span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span> <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span>
<span class="token comment">// isSunny === true  ->  [Object, Object, Object, Object]</span>
<span class="token comment">// isSunny === false  ->  [Object, Object, Object, null]</span></code></pre>
      </div>
<p>or with the <code class="language-text">&amp;&amp;</code> operator.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"burrito 🥙"</span><span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"strawberry 🍓"</span><span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"bottle of champagne 🍾"</span><span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  isSunny <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"sunglasses 🕶"</span><span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span>
<span class="token comment">// isSunny === true  ->  [Object, Object, Object, Object]</span>
<span class="token comment">// isSunny === false  ->  [Object, Object, Object, false]</span></code></pre>
      </div>
<p>Both of the above result in either <code class="language-text">null</code> or <code class="language-text">false</code> being added to the array if <code class="language-text">isSunny</code> is false, which is not what we want.</p>
<h2 id="the-solution"><a href="#the-solution" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The solution</h2>
<p>To solve this, we have two options.</p>
<h3 id="using-filter"><a href="#using-filter" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using filter</h3>
<p>One rather clean and readable approach is to populate the array using the <code class="language-text">&amp;&amp;</code> operator, and then remove its falsy values by chaining on a <code class="language-text">filter</code> call.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"burrito 🥙"</span><span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"strawberry 🍓"</span><span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"bottle of champagne 🍾"</span><span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  isSunny <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"sunglasses 🕶"</span><span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>Boolean<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span>
<span class="token comment">// isSunny === true  ->  [Object, Object, Object, Object]</span>
<span class="token comment">// isSunny === false  ->  [Object, Object, Object]</span></code></pre>
      </div>
<h3 id="using-the-spread-operator"><a href="#using-the-spread-operator" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using the spread operator</h3>
<p>Another approach is to leverage the fact that <strong>spreading an empty array inside another array doesn’t result in anything</strong>.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"burrito 🥙"</span><span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"strawberry 🍓"</span><span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"bottle of champagne 🍾"</span><span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">...</span><span class="token punctuation">(</span>isSunny <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"sunglasses 🕶"</span><span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span>
<span class="token comment">// isSunny === true  ->  [Object, Object, Object, Object]</span>
<span class="token comment">// isSunny === false  ->  [Object, Object, Object]</span></code></pre>
      </div>
<h3 id="what-about-object-literals"><a href="#what-about-object-literals" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What about object literals?</h3>
<p>While the above approach can look a bit messy at first, it has the benefit of not only working with array literals, but with object literals too. In the example below, the property <code class="language-text">c</code> with the value <code class="language-text">3</code> will only be added if <code class="language-text">someCondition</code> is true.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  b<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token operator">...</span><span class="token punctuation">(</span>someCondition <span class="token operator">?</span> <span class="token punctuation">{</span> c<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
<span class="token comment">// someCondition === true  ->  Object {a: 1, b: 2, c: 3}</span>
<span class="token comment">// someCondition === false  ->  Object {a: 1, b: 2}</span></code></pre>
      </div>
<p>And that’s pretty neat!</p></article><div class="sc-gzVnrw boxYda" data-reactid="23"><div class="sc-dnqmqq hzPkBe" data-reactid="24">°°°</div><div class="sc-htoDjs jkcuzi" data-reactid="25"><a class="sc-iwsKbI kMFOnt" href="https://twitter.com/intent/tweet?text=Conditionally%20adding%20entries%20to%20array%20and%20object%20literals%20in%20Javascript%20by%20@kallebornemark%20https://codeandsuch.github.io/conditional-array-object-literals" target="_blank" rel="noreferrer noopener" data-reactid="26"><span class="sc-gqjmRU drfYBY" data-reactid="27">Liked this post? Feel free to share it on Twitter!</span><img class="sc-gZMcBi eSLpRO" src="data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjMURBMUYyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj4NCiAgPHBhdGggZD0iTTEwMCAxOWE0MSA0MSAwIDAgMS0xMS43OCAzLjIzIDIwLjYgMjAuNiAwIDAgMCA5LTExLjM0IDQxLjM2IDQxLjM2IDAgMCAxLTEzIDUgMjAuNTMgMjAuNTMgMCAwIDAtMzUgMTguN0E1OC4yNCA1OC4yNCAwIDAgMSA3IDEzLjE0YTIwLjU0IDIwLjU0IDAgMCAwIDYuMzUgMjcuMzhBMjAuNTIgMjAuNTIgMCAwIDEgNCAzOHYuMjZhMjAuNTMgMjAuNTMgMCAwIDAgMTYuNDggMjAuMDYgMjAuNzggMjAuNzggMCAwIDEtNS40MS43MiAxOS42OSAxOS42OSAwIDAgMS0zLjg2LS4zOCAyMC41MiAyMC41MiAwIDAgMCAxOS4xNiAxNC4yNSA0MS4xNiA0MS4xNiAwIDAgMS0yNS40OCA4Ljc3QTQzLjYgNDMuNiAwIDAgMSAwIDgxLjM5YTU4IDU4IDAgMCAwIDMxLjQ0IDkuMjNjMzcuNzQgMCA1OC4zNi0zMS4yNiA1OC4zNi01OC4zNmwtLjA3LTIuNjZBNDEgNDEgMCAwIDAgMTAwIDE5eiIvPg0KPC9zdmc+" alt="Share on Twitter" data-reactid="28"/></a></div></div></div><footer class="sc-bdVaJa cwzPxQ" data-reactid="29">MIT Ⓒ Kalle Bornemark</footer></div></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-a36c9737df78aac4f33a.js","99219681209289":"component---node-modules-gatsby-plugin-offline-app-shell-js-5c4c5a0f7af9dc69d6d7.js","30862416422887":"component---src-templates-post-tsx-91024bc76e2b3f4896a5.js","178469467687848":"component---src-pages-404-tsx-8bb4728fb98e5c158658.js","221374088121123":"component---src-pages-index-tsx-8d9f54188f3a71c33ec4.js","60335399758886":"path----557518bd178906f8d58a.js","210333531512890":"path---offline-plugin-app-shell-fallback-a0e39f21c11f6a62c5ab.js","195004302411781":"path---conditional-array-object-literals-bc6dbd07f0df423d5c47.js","228344554384884":"path---extensions-sept-18-018f03e5226866a8f9b2.js","109763708754463":"path---webpack-aliases-typescript-a147d06720ea52b5eb3f.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","142629428675168":"path---index-8421eeeb7498fd6fe046.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","22676092666560":"component---src-layouts-index-tsx-77a099543e27dc8cff12.js"}/*]]>*/</script><script>
            
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-41576939-5', 'auto');
      }
      </script><script>/*<![CDATA[*/["/commons-62eb3f41998dd1c81c42.js","/app-a36c9737df78aac4f33a.js","/path---conditional-array-object-literals-bc6dbd07f0df423d5c47.js","/component---src-templates-post-tsx-91024bc76e2b3f4896a5.js","/component---src-layouts-index-tsx-77a099543e27dc8cff12.js"].forEach(function(s){document.write('<script src="'+s+'" defer></'+'script>')})/*]]>*/</script></body></html>