<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-tsx-1f437a5a1ba7b532a8ec.js" as="script"/><link rel="preload" href="/component---src-templates-post-tsx-d35f96404f7e29e03a89.js" as="script"/><link rel="preload" href="/path---conditional-array-object-literals-9b5cdb33acacc9c74a23.js" as="script"/><link rel="preload" href="/app-89e53e731a1012582a51.js" as="script"/><link rel="preload" href="/commons-66c49386102d30cf3c35.js" as="script"/><style data-styled="ZWAwl  fcYGcj kIHNzl fCcvMz grqlRo qbZXH gjLoVs cKUHJh dEgiip jwOucU loqQvJ kCYzdq bPocjm jREfFM dVqPYB elzLQa hzPkBe jkcuzi kMFOnt hPZJxq chDSUi jWakKm" data-styled-version="4.1.3">
/* sc-component-id: sc-bdVaJa */
.jWakKm{text-align:center;margin:4rem 0 2.5rem 0;font-size:1.4em;color:#adadad;} @media (max-width:800px){.jWakKm{font-size:1.2em;}}
/* sc-component-id: sc-global-1031813546 */
html{height:100%;font-size:10px;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;} body{min-height:100%;} *{margin:0;padding:0;box-sizing:border-box;} a{-webkit-text-decoration:none;text-decoration:none;color:inherit;}
/* sc-component-id: sc-bwzfXH */
.ZWAwl{display:grid;min-height:100vh;grid-template-rows:auto 1fr auto;}
/* sc-component-id: sc-htpNat */
.kIHNzl{background-image:url(/static/bg-blue-noise.425da07f.png);color:white;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;-webkit-transition:height .1s ease-out;transition:height .1s ease-out;height:5rem;padding:0;position:fixed;box-shadow:0 3px 5px rgba(57,63,72,0.15);} @media (max-width:800px){.kIHNzl{height:5rem;}}
/* sc-component-id: sc-bxivhb */
.fCcvMz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:1rem 0;}
/* sc-component-id: sc-ifAKCX */
.grqlRo{font-size:2.6rem;line-height:2.5rem;-webkit-letter-spacing:1.1px;-moz-letter-spacing:1.1px;-ms-letter-spacing:1.1px;letter-spacing:1.1px;-webkit-transition:font-size 1s ease;transition:font-size 1s ease;}
/* sc-component-id: sc-EHOje */
.qbZXH{color:#9dc59fd1;font-size:.9em;margin:0 .6rem 0 .5rem;font-weight:normal;}
/* sc-component-id: sc-gzVnrw */
.elzLQa{width:100%;max-width:900px;}
/* sc-component-id: sc-htoDjs */
.jkcuzi{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:0 16px;}
/* sc-component-id: sc-dnqmqq */
.hzPkBe{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;font-size:15px;margin:10rem 0 6rem 0;line-height:0px;-webkit-letter-spacing:20px;-moz-letter-spacing:20px;-ms-letter-spacing:20px;letter-spacing:20px;color:#c5c5c5;text-align:center;}
/* sc-component-id: sc-iwsKbI */
.kMFOnt{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;opacity:.7;} .kMFOnt:hover{opacity:1;}
/* sc-component-id: sc-gZMcBi */
.hPZJxq{width:32px;height:32px;margin-right:16px;}
/* sc-component-id: sc-gqjmRU */
.chDSUi{font-size:1.6em;} @media (max-width:930px){.chDSUi{font-size:1.3em;}}
/* sc-component-id: sc-VigVT */
.fcYGcj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-width:0;}
/* sc-component-id: sc-jTzLTM */
.gjLoVs{width:100%;background-color:#f8f8f8;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:64px 0 56px;margin-top:5rem;margin-bottom:32px;min-height:20rem;} @media (max-width:800px){.gjLoVs{padding:32px 0 28px;}}
/* sc-component-id: sc-fjdhpX */
.jREfFM{width:100%;max-width:900px;font-size:2em;padding:0 16px;margin-bottom:2rem;}
/* sc-component-id: sc-jzJRlG */
.cKUHJh{max-width:900px;width:100%;padding:0 16px;display:grid;grid-row-gap:1rem;grid-column-gap:1.5rem;grid-template-columns:min-content 1fr;grid-template-areas: 'avatar title' 'avatar subtext';} @media (max-width:550px){.cKUHJh{grid-template-columns:1fr min-content;grid-template-areas: 'title title' 'subtext avatar';}}
/* sc-component-id: sc-cSHVUG */
.dEgiip{grid-area:avatar;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;border-radius:50%;background:url(https://pbs.twimg.com/profile_images/1041433650670329858/ovH4bEC5_normal.jpg);width:48px;height:48px;background-size:cover;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;}
/* sc-component-id: sc-kAzzGY */
.jwOucU{grid-area:title;color:#352f4a;font-weight:bold;font-size:3.2em;} @media (max-width:800px){.jwOucU{font-size:2.5em;}}
/* sc-component-id: sc-chPdSV */
.loqQvJ{grid-area:subtext;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;color:#35304ab0;font-size:1.42rem;} @media (max-width:550px){.loqQvJ{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}.loqQvJ >:not(:last-child){margin-bottom:.5rem;}}
/* sc-component-id: sc-kgoBCf */
.kCYzdq{margin-right:.5rem;}
/* sc-component-id: sc-kGXeez */
.bPocjm{margin:0 12px;opacity:0.8;} @media (max-width:550px){.bPocjm{display:none;}}
/* sc-component-id: sc-kpOJdX */
.dVqPYB{max-width:900px;font-size:1.6em;line-height:1.8em;color:#333333;padding:0 16px;width:100%;} @media (max-width:800px){.dVqPYB{font-size:1.4rem;}} .dVqPYB > *:not(:first-child){margin-top:32px;} .dVqPYB h2 + *,.dVqPYB h3 + *,.dVqPYB h4 + *,.dVqPYB h5 + *,.dVqPYB h6 + *{margin-top:16px !important;} .dVqPYB hr{border-top:none;border-color:lightgray;} .dVqPYB ul,.dVqPYB ol{margin-left:1.1em;} .dVqPYB a{color:#3ea7bb;-webkit-text-decoration:underline;text-decoration:underline;} .dVqPYB a:visited{color:#3ea7bb;} .dVqPYB img{border-radius:4px;max-width:100%;} .dVqPYB img + em,.dVqPYB .gatsby-resp-image-wrapper + em{display:block;width:100%;font-size:1.4rem;font-style:normal;line-height:2rem;text-align:center;margin-top:8px;} .dVqPYB pre{overflow:auto;padding:12px;font-size:1.4rem;border-radius:4px;} .dVqPYB pre code{padding:0;} .dVqPYB code{background-color:#f8f8f8;padding:4px 8px;font-size:14px;} .dVqPYB blockquote{background-color:#352f4a;padding-left:8px;color:#757575;font-style:italic;} .dVqPYB blockquote p{background-color:white;padding-left:8px;} .dVqPYB iframe{border:none;}</style><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><title data-react-helmet="true">Conditionally adding entries to array and object literals in Javascript | code &amp; such</title><meta data-react-helmet="true" name="theme-color" content="#352f4a"/><meta data-react-helmet="true" name="description" content="The problem A common way to define an array in Javascript is to use an array literal. However, it‚Äôs sometimes desirable to populate the array conditionally based on the value of some variable. Perhaps you‚Äôve attempted to accomplish this in the past with a ternary operator: or with the   operator. Both of the above‚Ä¶"/><style id="gatsby-inlined-css">pre{color:#1b1b1b;background-color:#f8f8f8}.token.cdata,.token.doctype,.token.prolog{color:#3ea7bb}.token.punctuation{color:#5f6364}.token.block-comment,.token.comment{color:#b3b9bb}.token.atrule,.token.attr-value,.token.boolean,.token.constant,.token.deleted,.token.function-name,.token.keyword,.token.number,.token.property,.token.symbol,.token.tag{color:#f05f40}.token.attr-name,.token.builtin,.token.char,.token.class-name,.token.function,.token.inserted,.token.selector,.token.string{color:#3ea7bb}.token.entity,.token.important,.token.operator,.token.regex,.token.url,.token.variable{color:#9756e1}.language-css .token.string,.style .token.string{color:#3ea7bb}.token.important{font-weight:400}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.namespace{opacity:.7}.token.cr:before,.token.lf:before,.token.tab:not(:empty):before{color:#e0d7d1}</style></head><body><div id="___gatsby"><div class="sc-bwzfXH ZWAwl"><div class="sc-VigVT fcYGcj"><a class="sc-htpNat kIHNzl" href="/"><div class="sc-bxivhb fCcvMz"><h1 class="sc-ifAKCX grqlRo">code<span class="sc-EHOje qbZXH">&amp;</span>such</h1></div></a><header class="sc-jTzLTM gjLoVs"><div class="sc-jzJRlG cKUHJh"><a src="https://pbs.twimg.com/profile_images/1041433650670329858/ovH4bEC5_normal.jpg" href="https://www.twitter.com/@kallebornemark" class="sc-cSHVUG dEgiip"></a><h1 class="sc-kAzzGY jwOucU">Conditionally adding entries to array and object literals in Javascript</h1><div class="sc-chPdSV loqQvJ"><div><span class="sc-kgoBCf kCYzdq">üìù</span><a href="https://www.twitter.com/@kallebornemark">Kalle Bornemark</a></div><span class="sc-kGXeez bPocjm">‚Ä¢</span><div><span class="sc-kgoBCf kCYzdq">üìÖ</span><span>31st August 2018</span></div><span class="sc-kGXeez bPocjm">‚Ä¢</span><div><span class="sc-kgoBCf kCYzdq">‚òï</span><span>3 min read</span></div></div></div></header><div class="sc-fjdhpX jREfFM"><a href="/">‚Üê</a></div><article class="sc-kpOJdX dVqPYB"><h2 id="the-problem"><a href="#the-problem" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The problem</h2>
<p>A common way to define an array in Javascript is to use an array literal.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'burrito ü•ô'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'donut üç©'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'bottle of champagne üçæ'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>However, it‚Äôs sometimes desirable to populate the array conditionally based on the value of some variable. Perhaps you‚Äôve attempted to accomplish this in the past with a ternary operator:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'burrito ü•ô'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'donut üç©'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'bottle of champagne üçæ'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  isSunny <span class="token operator">?</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'sunglasses üï∂'</span> <span class="token punctuation">}</span> <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

isSunny <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object, Object]</span>
isSunny <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object, null]</span></code></pre>
      </div>
<p>or with the <code class="language-text">&amp;&amp;</code> operator.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'burrito ü•ô'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'donut üç©'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'bottle of champagne üçæ'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  isSunny <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'sunglasses üï∂'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

isSunny <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object, Object]</span>
isSunny <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object, false]</span></code></pre>
      </div>
<p>Both of the above result in either <code class="language-text">null</code> or <code class="language-text">false</code> being added to the array if <code class="language-text">isSunny</code> is false, which is not what we want.</p>
<h2 id="the-solution"><a href="#the-solution" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The solution</h2>
<p>To solve this, we have two options.</p>
<h3 id="using-filter"><a href="#using-filter" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using filter</h3>
<p>One rather clean and readable approach is to populate the array using the <code class="language-text">&amp;&amp;</code> operator, and then remove its falsy values by chaining on a <code class="language-text">filter</code> call.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'burrito ü•ô'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'donut üç©'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'bottle of champagne üçæ'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  isSunny <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'sunglasses üï∂'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>Boolean<span class="token punctuation">)</span>

isSunny <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object, Object]</span>
isSunny <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object]</span></code></pre>
      </div>
<h3 id="using-the-spread-operator"><a href="#using-the-spread-operator" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using the spread operator</h3>
<p>Another approach is to leverage the fact that <strong>spreading an empty array inside another array doesn‚Äôt result in anything</strong>.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'burrito ü•ô'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'donut üç©'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'bottle of champagne üçæ'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">...</span><span class="token punctuation">(</span>isSunny <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'sunglasses üï∂'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

isSunny <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object, Object]</span>
isSunny <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object]</span></code></pre>
      </div>
<h3 id="what-about-object-literals"><a href="#what-about-object-literals" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What about object literals?</h3>
<p>While the above approach can look a bit messy at first, it has the benefit of not only working with array literals, but with object literals too.</p>
<p>In the example below, the <code class="language-text">model</code> property will only be added if <code class="language-text">includeModelName</code> is true. Otherwise nothing is added.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> sunglasses <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'sunglasses üï∂'</span><span class="token punctuation">,</span>
  color<span class="token punctuation">:</span> <span class="token string">'black'</span><span class="token punctuation">,</span>
  <span class="token operator">...</span><span class="token punctuation">(</span>includeModelName <span class="token operator">?</span> <span class="token punctuation">{</span> model<span class="token punctuation">:</span> <span class="token string">'Ray-Ban Wayfarer'</span> <span class="token punctuation">}</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

includeModelName <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// {name: "sunglasses üï∂", color: "black", model: "Ray-Ban Wayfarer"}</span>
includeModelName <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// {name: "sunglasses üï∂", color: "black"}</span></code></pre>
      </div>
<p>And that‚Äôs pretty neat!</p>
<h4 id="update-2018-12-25"><a href="#update-2018-12-25" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Update 2018-12-25</h4>
<p>Here‚Äôs a slightly shorter version of the same approach as above.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> sunglasses <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'sunglasses üï∂'</span><span class="token punctuation">,</span>
  color<span class="token punctuation">:</span> <span class="token string">'black'</span><span class="token punctuation">,</span>
  <span class="token operator">...</span><span class="token punctuation">(</span>includeModelName <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> model<span class="token punctuation">:</span> <span class="token string">'Ray-Ban Wayfarer'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>Thanks <a href="https://www.reddit.com/user/lachlanhunt" target="_blank" rel="nofollow">lachlanhunt</a> for the tip!</p></article><div class="sc-gzVnrw elzLQa"><div class="sc-dnqmqq hzPkBe">¬∞¬∞¬∞</div><div class="sc-htoDjs jkcuzi"><a href="https://twitter.com/intent/tweet?text=Conditionally%20adding%20entries%20to%20array%20and%20object%20literals%20in%20Javascript%20by%20@kallebornemark%20https://codeandsuch.github.io/conditional-array-object-literals" target="_blank" rel="noreferrer noopener" class="sc-iwsKbI kMFOnt"><img src="data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjMURBMUYyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj4KICA8cGF0aCBkPSJNMTAwIDE5YTQxIDQxIDAgMCAxLTExLjc4IDMuMjMgMjAuNiAyMC42IDAgMCAwIDktMTEuMzQgNDEuMzYgNDEuMzYgMCAwIDEtMTMgNSAyMC41MyAyMC41MyAwIDAgMC0zNSAxOC43QTU4LjI0IDU4LjI0IDAgMCAxIDcgMTMuMTRhMjAuNTQgMjAuNTQgMCAwIDAgNi4zNSAyNy4zOEEyMC41MiAyMC41MiAwIDAgMSA0IDM4di4yNmEyMC41MyAyMC41MyAwIDAgMCAxNi40OCAyMC4wNiAyMC43OCAyMC43OCAwIDAgMS01LjQxLjcyIDE5LjY5IDE5LjY5IDAgMCAxLTMuODYtLjM4IDIwLjUyIDIwLjUyIDAgMCAwIDE5LjE2IDE0LjI1IDQxLjE2IDQxLjE2IDAgMCAxLTI1LjQ4IDguNzdBNDMuNiA0My42IDAgMCAxIDAgODEuMzlhNTggNTggMCAwIDAgMzEuNDQgOS4yM2MzNy43NCAwIDU4LjM2LTMxLjI2IDU4LjM2LTU4LjM2bC0uMDctMi42NkE0MSA0MSAwIDAgMCAxMDAgMTl6Ii8+Cjwvc3ZnPg==" alt="Share on Twitter" class="sc-gZMcBi hPZJxq"/><span class="sc-gqjmRU chDSUi">Liked this post? Feel free to share it on Twitter!</span></a></div></div></div><footer class="sc-bdVaJa jWakKm">MIT ‚í∏ Kalle Bornemark</footer></div></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-89e53e731a1012582a51.js","99219681209289":"component---node-modules-gatsby-plugin-offline-app-shell-js-5c4c5a0f7af9dc69d6d7.js","30862416422887":"component---src-templates-post-tsx-d35f96404f7e29e03a89.js","178469467687848":"component---src-pages-404-tsx-4e1dd917dfe042c0cadd.js","221374088121123":"component---src-pages-index-tsx-ec1df17b19b07224a09b.js","60335399758886":"path----557518bd178906f8d58a.js","210333531512890":"path---offline-plugin-app-shell-fallback-a0e39f21c11f6a62c5ab.js","195004302411781":"path---conditional-array-object-literals-9b5cdb33acacc9c74a23.js","109763708754463":"path---webpack-aliases-typescript-b04177377ba754b588cc.js","228344554384884":"path---extensions-sept-18-b12faac28a13dad356d1.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","142629428675168":"path---index-6a24d84c28a51bef5d25.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","22676092666560":"component---src-layouts-index-tsx-1f437a5a1ba7b532a8ec.js"}/*]]>*/</script><script>
            
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-41576939-5', 'auto');
      }
      </script><script>/*<![CDATA[*/["/commons-66c49386102d30cf3c35.js","/app-89e53e731a1012582a51.js","/path---conditional-array-object-literals-9b5cdb33acacc9c74a23.js","/component---src-templates-post-tsx-d35f96404f7e29e03a89.js","/component---src-layouts-index-tsx-1f437a5a1ba7b532a8ec.js"].forEach(function(s){document.write('<script src="'+s+'" defer></'+'script>')})/*]]>*/</script></body></html>