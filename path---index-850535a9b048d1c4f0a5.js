webpackJsonp([0x81b8806e4260],{272:function(n,a){n.exports={data:{site:{siteMetadata:{title:"code & such"}},allMarkdownRemark:{edges:[{node:{frontmatter:{path:"/container-security",author:"Daniel Löfquist",date:"25th January 2019",title:"Container security"},fields:{twitterAvatarUrl:"https://pbs.twimg.com/profile_images/1805638258/bwbcbb_square_normal.jpg"},excerpt:"These days it seems everybody is either using container technology or looking to use it soon. In every technology trend, there is something that is too often forgotten about in the frenzy of eagerness to use the new and exiting tools…",html:'<p>These days it seems everybody is either using container technology or looking to use it soon. In every technology trend, there is something that is too often forgotten about in the frenzy of eagerness to use the new and exiting tools and techniques - security.</p>\n<p><em>Note: When I say containers in this post I mean Docker containers since this is the type of containers that I have the bulk of my experience with.</em></p>\n<p>Security, in general, is an enormous topic and narrowing it down to just things regarding container technology doesn’t make it even close to sufficiently small enough to cover in a simple blog post. Many things are big enough to warrant a separate article in itself. Therefore this will be a mixture of quick pointers and some fairly simple tricks to get you started on thinking about the security of your Docker containers.</p>\n<h1 id="the-basics-ie-things-you-should-already-know"><a href="#the-basics-ie-things-you-should-already-know" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The Basics (i.e. things you should already know)</h1>\n<p>Containers run on a host system, thus the security of this host matters and you should always follow regular security practices for the host-OS in question. Always keep your host-OS and software running on it current with the latest updates and patches. Don’t forget to lock down who can access the host, physically as well as from the internal network and the public internet (of course!).</p>\n<p>Containers run your application, so guess what? Application security naturally also applies. Use the OWASP guidelines for secure coding practices and any other established guidelines that apply to your application’s language, platform, and runtime. Be careful with the dependencies you include in your application (hey, JS-devs! I’m looking at you!). Make sure to keep your source code safe and free from sensitive information like passwords, API-keys and alike.</p>\n<p>OK, now that’s out of the way – what can we do about the containers?</p>\n<h1 id="containers---locking-it-down"><a href="#containers---locking-it-down" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Containers - locking it down</h1>\n<h2 id="some-things-to-keep-in-mind"><a href="#some-things-to-keep-in-mind" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Some things to keep in mind</h2>\n<p>In Docker, the host operating system kernel is shared by the containers you’re running. Because of this, a kernel exploit may take down the entire host and not just a running container that’s subjected to an attack. Be aware of this.</p>\n<p>Your Docker containers share the resources of the host. Therefore it’s a good idea to restrict your containers so that one container can’t hog all the resources and starve the others to cause a DoS-attack of sorts to your application.</p>\n<p>When basing your Docker image on an existing image, make sure to only use images from trusted sources. Beware of poisoned images.</p>\n<h2 id="writing-your-dockerfile-building-the-image-and-running-the-container"><a href="#writing-your-dockerfile-building-the-image-and-running-the-container" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Writing your Dockerfile, building the image and running the container</h2>\n<p>Below is a list of things you can do when putting together your Dockerfile to increase the security of the created image as well as things to do when actually building and finally running in Docker. Don’t for a second think this list is anywhere near complete though, but it’s a good start at least.</p>\n<ul>\n<li>Do not write secrets (passwords, API-keys, etc.) in your <code class="language-text">Dockerfile</code>.</li>\n<li>If you don’t need the extra functionality supplied by <code class="language-text">ADD</code> (i.e. file-download and archive unpacking), use <code class="language-text">COPY</code> instead.</li>\n<li>Create a user (or users), only run as root when absolutely necessary.</li>\n<li>Remove unnecessary setuid and setgid permissions.</li>\n<li>Consider using seccomp to further restrict permissions.</li>\n<li>Do not download any unnecessary packages.</li>\n<li>Remove unnecessary packages pre-existing in the image.</li>\n<li>If possible use <code class="language-text">--no-cache</code> when building for production to avoid image poisoning via the cache.</li>\n<li>Use a security scanner to scan your images. There are many to choose from. Personally, I like <a href="https://github.com/aquasecurity/microscanner" target="_blank" rel="nofollow">https://github.com/aquasecurity/microscanner</a> together with <a href="https://github.com/lukebond/microscanner-wrapper" target="_blank" rel="nofollow">https://github.com/lukebond/microscanner-wrapper</a></li>\n<li>Isolate containers with user namespaces</li>\n</ul>\n<h2 id="image-size-and-how-it-relates-to-security"><a href="#image-size-and-how-it-relates-to-security" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Image size and how it relates to security</h2>\n<p>One might think that efficiency is more of a focus when striving for smaller Docker images. However, a larger image contains more stuff - more software - and thus makes for a larger attack surface. So even if only for this reason a smaller image is preferred over a larger one.</p>\n<p>As a general rule try to use the newest version of the smallest base-image you can. Many distributions also have a slim version that is considerably smaller. The <code class="language-text">debian:stretch</code> image, for example, is 101MB while the <code class="language-text">debian:stretch-slim</code> image is only 55MB. <a href="https://alpinelinux.org/" target="_blank" rel="nofollow">Alpine</a> is a popular distribution for <a href="https://hub.docker.com/_/alpine" target="_blank" rel="nofollow">containers</a> that has a very small footprint and I’d recommend giving that a try to get your images down even further in size.</p>\n<p>The resulting image built from the <code class="language-text">Dockerfile</code> below is 106MB.</p>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">FROM debian:stretch-slim\n\nRUN apt update \\\n    &amp;&amp; apt upgrade -y \\\n    &amp;&amp; apt install --no-install-recommends --no-install-suggests -y samba nginx openssl git wget curl \\\n    &amp;&amp; apt remove --purge --auto-remove -y samba openssl git wget curl \\\n    &amp;&amp; rm -rf /var/lib/apt/lists/*\n    # Clear up the cache also\n\nEXPOSE 80\n\nCMD [&quot;nginx&quot;, &quot;-g&quot;, &quot;daemon off;&quot;]</code></pre>\n      </div>\n<p>The image built from the following <code class="language-text">Dockerfile</code> is under 12MB although it is functionally identical to the one above.</p>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">FROM alpine:latest\n\nRUN apk update \\\n    &amp;&amp; apk upgrade \\\n    &amp;&amp; apk add --no-cache nginx bash\\\n    &amp;&amp; adduser -D -g &#39;www&#39; www \\\n    &amp;&amp; mkdir /www \\\n    &amp;&amp; mkdir -p /run/nginx/ \\\n    &amp;&amp; chown -R www:www /var/lib/nginx \\\n    &amp;&amp; chown -R www:www /www\n\nEXPOSE 80\n\nCMD [&quot;nginx&quot;, &quot;-g&quot;, &quot;daemon off;&quot;]</code></pre>\n      </div>\n<p>That’s quite a difference in size!</p>\n<h1 id="finishing-up"><a href="#finishing-up" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Finishing up</h1>\n<p>What you’ve read above is by no means a complete guide to container security, but it should give you a good start as well as plenty of things to research on your own. Happy containerizing and stay secure out there!</p>'}},{node:{frontmatter:{path:"/extensions-sept-18",author:"Kalle Bornemark",date:"23rd September 2018",title:"My essential VS Code extensions as of September 2018"},fields:{twitterAvatarUrl:""},excerpt:"One of the things I enjoy most as a developer is to continuously find new ways to improve my workflow and work environment. I’m thus always on the lookout for new helpful tweaks and extensions. Here’s a list of my must-have VS Code…",html:'<p>One of the things I enjoy most as a developer is to continuously find new ways to improve my workflow and work environment. I’m thus always on the lookout for new helpful tweaks and extensions.</p>\n<p>Here’s a list of my must-have VS Code extensions as of September 2018.</p>\n<h1 id="-settings-sync"><a href="#-settings-sync" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>🔧 Settings Sync</h1>\n<p>This is the first extension I install when I set up VS Code on a new system. It lets you upload all relevant configuration data (extensions, keybinds, settings, snippets, etc) into a Gist on Github, making it dead simple to set up an identical configuration elsewhere. Once your settings are uploaded, simply run the <code class="language-text">Sync: Download Settings</code> command on your new system and you’re good to go.</p>\n<p>This extensions also makes it easy to keep the VS Code settings of two different systems “in sync”. Perhaps you’re frequently switching between your work computer and your personal computer at home, and you want to work in identical environments regardless of which computer you use. Settings Sync lets you accomplish exactly this in a fairly straightforward way.</p>\n<p>💾 <a href="https://marketplace.visualstudio.com/items?itemName=Shan.code-settings-sync" target="_blank" rel="nofollow">Settings Sync</a> at VS Marketplace</p>\n<hr>\n<h1 id="-sensitive-replace"><a href="#-sensitive-replace" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>🔧 Sensitive Replace</h1>\n<p>Ever wanted to rename something without losing the individual casing in each occurrence? Sensitive Replace allows one to do this in two simple steps:</p>\n<ol>\n<li>\n<p>Select every instance of the word you want to change (this can be done with VS Code’s built-in <code class="language-text">Add Selection To Next Find Match</code> command, default keybind is <code class="language-text">ctrl</code>+<code class="language-text">D</code>).</p>\n</li>\n<li>\n<p>Open up the commands menu (<code class="language-text">ctrl</code>+<code class="language-text">shift</code>+<code class="language-text">p</code>), run <code class="language-text">Sensitive: Replace selections</code>\nand enter the word you want to change to.</p>\n</li>\n</ol>\n<p><img src="/SensitiveReplace-2fcd11bfbbc8d02b9a3fcd22680bfc42.gif" alt="SensitiveReplace"></p>\n<p>Voilà!</p>\n<blockquote>\n<p>Side note: <code class="language-text">ctrl</code>+<code class="language-text">D</code> behaves slightly differently depending on if you run it with or without a selected word. Without, the next exact occurrence of whatever word your cursor is currently pointing at will be selected in a case sensitive manner. <strong>With</strong> a selected word, however, the match will be case-insensitive, which is what you would want in the scenario above.</p>\n</blockquote>\n<p>💾 <a href="https://marketplace.visualstudio.com/items?itemName=vilicvane.sensitive-replace" target="_blank" rel="nofollow">Sensitive Replace</a> at VS Marketplace</p>\n<hr>\n<h1 id="-line-jumper"><a href="#-line-jumper" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>🔧 line-jumper</h1>\n<p>This little extension lets you jump up and down multiple lines at a time with <code class="language-text">alt</code>+<code class="language-text">⬆</code>/<code class="language-text">⬇</code>. The default jump length is 10 lines, which feels reasonable. Even though incorporating jumping around like this into your workflow takes some time getting used to, line-jumper is definitely a great step towards more keyboard-oriented file navigation for those of us that aren’t quite ready for Vim yet.</p>\n<blockquote>\n<p>Side note: Holding both <code class="language-text">alt</code> and <code class="language-text">shift</code> lets you jump while selecting rows, which I’ve found super useful when selecting larger chunks of code.</p>\n</blockquote>\n<p><img src="/line-jumper-6fdea27a236c6da04e32e91c4fa4c98e.gif" alt="line-jumper"></p>\n<p>💾 <a href="https://marketplace.visualstudio.com/items?itemName=alekseychaikovsky.line-jumper" target="_blank" rel="nofollow">line-jumper</a> at VS Marketplace</p>\n<hr>\n<h1 id="-auto-rename-tag"><a href="#-auto-rename-tag" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>🔧 Auto Rename Tag</h1>\n<p>This very simple extension automatically keeps pairs of HTML tags in sync as you change them. Very handy, and I wouldn’t be surprised if this functionality becomes part of VS Code itself shortly.</p>\n<p><img src="/AutoRenameTag-7e44c318f3bdd9f9ebcf8214def5b395.gif" alt="Auto Rename Tag"></p>\n<p>💾 <a href="https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-rename-tag" target="_blank" rel="nofollow">Auto Rename Tag</a> at VS Marketplace</p>\n<hr>\n<h1 id="-file-utils"><a href="#-file-utils" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>🔧 File Utils</h1>\n<p>To quote the author of this extension, File Utils is “a convenient way of creating, duplicating, moving, renaming, deleting files and directories”.</p>\n<p>If you’re like me, you’ll agree that being able to do common tasks with commands is almost always preferred to using the mouse. You’ll also agree that having this set of useful file management utilities added to VS Code makes life a little easier.</p>\n<p>\n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; margin: 0 !important; max-width: 601px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 27.787021630615644%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAAAmklEQVQY053M0QqCMBiG4V1DQdBJoW77l0TZpnOSU9PQiOgg6qz7v42v6A7awXP0wst800LnFrl1KMoKNlBROhhbgkXnN9TpATW8sCiumJvL32Z6wtLdQP0TLO3uqNoByVZjRbtga7VHlGZgupnQ+yMUEXgcQ3IeTCQJWOZHOGtx0AZEG3AuwIUMxrJ6ROdrGJNDSvoNxTeE+gCr/LX/efa0WQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"\n        alt="File Utils"\n        title=""\n        src="/static/FileUtils-f48c86c02f7c9641c9e7c61e912cf4d3-cff8d.png"\n        srcset="/static/FileUtils-f48c86c02f7c9641c9e7c61e912cf4d3-786d8.png 175w,\n/static/FileUtils-f48c86c02f7c9641c9e7c61e912cf4d3-824a9.png 350w,\n/static/FileUtils-f48c86c02f7c9641c9e7c61e912cf4d3-cff8d.png 601w"\n        sizes="(max-width: 601px) 100vw, 601px"\n      />\n    </span>\n  </span>\n  </p>\n<p>💾 <a href="https://marketplace.visualstudio.com/items?itemName=sleistner.vscode-fileutils" target="_blank" rel="nofollow">File Utils</a> at VS Marketplace</p>\n<hr>\n<h1 id="-easy-snippet"><a href="#-easy-snippet" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>🔧 easy-snippet</h1>\n<p>As of late, the folks behind VS Code seem to be doing most things right. One thing that does have some room for improvement, though, is the process of creating snippets. The whole concept of editing strings in a JSON file (while manually having to fix indentation, etc.) isn’t very user-friendly.</p>\n<p>This little extension transforms your selection of code into a snippet-ready JSON format, vastly decreasing the time required to create a snippet.</p>\n<p><img src="/easy-snippet-3e186d672cdf9f1ee21b5e07d38051b2.gif" alt="easy-snippet"></p>\n<p>💾 <a href="https://marketplace.visualstudio.com/items?itemName=inu1255.easy-snippet" target="_blank" rel="nofollow">easy-snippet</a> at VS Marketplace</p>\n<hr>\n<h1 id="-todo-highlight"><a href="#-todo-highlight" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>🔧 TODO Highlight</h1>\n<p>This little extension makes sure you don’t leave a bunch of TODOs sprinkled throughout your code. It does this by highlighting every instance of “TODO:” in an noticeable way. It’s also very customizable, allowing you to change highlight color, case sensitivity, keyword, and more.</p>\n<p>\n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; margin: 0 !important; max-width: 514px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 26.459143968871597%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA/ElEQVQY022QwXKDIBCGfZWcFAElRgUlRoIa06npJD5XL32THvp+f1dNTu3hm2UW+HfnC2JRI5aE0GDcIM/ylZCViOK/MK7/7b8IUnXEvm6RKItddMLPV4/vT4cd66CyM4RySDJP9FCHAbW90kdNC1Rgwqws5xcBlxY8tYhoQ606zG2Hx/SGbngQd1zGGUXu4U4TqvaGrJ9R2hHGOMLjmDnsDw3kkrFsyJ7JYVzAqDM09yjrEcN4h9EduLUQXQPRNzD+grO/wfmJhn2g9e+Qkv6yYg1barD5q8lNCUFVkEeRVOvEmHyFktwo8pZq8KWf1HRH75KNiG9B0dP5L5nJouzTJL6QAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"\n        alt="TODOHighlight"\n        title=""\n        src="/static/TODOHighlight-6a9e2ebe518f7620edc4165246665cd8-fd89b.png"\n        srcset="/static/TODOHighlight-6a9e2ebe518f7620edc4165246665cd8-8b704.png 175w,\n/static/TODOHighlight-6a9e2ebe518f7620edc4165246665cd8-56ac2.png 350w,\n/static/TODOHighlight-6a9e2ebe518f7620edc4165246665cd8-fd89b.png 514w"\n        sizes="(max-width: 514px) 100vw, 514px"\n      />\n    </span>\n  </span>\n  </p>\n<p>💾 <a href="https://marketplace.visualstudio.com/items?itemName=wayou.vscode-todo-highlight" target="_blank" rel="nofollow">TODO Highlight</a> at VS Marketplace</p>\n<hr>\n<h1 id="-color-theme-dracula"><a href="#-color-theme-dracula" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>🎨 Color Theme: Dracula</h1>\n<p>Finally, I feel like I should recommend at least one color theme. Since I usually never stick with a single theme for more than a few months in a row, deciding which one to recommend took some time. Both Dracula and <a href="https://marketplace.visualstudio.com/items?itemName=teabyii.ayu" target="_blank" rel="nofollow">Ayu</a> are great, but the former is probably the one I’ve returned to most often.</p>\n<p>Dracula is also available for 50+ apps, including Visual Studio, Slack, React DevTools, iTerm, etc. Have a look at their <a href="https://draculatheme.com/" target="_blank" rel="nofollow">website</a>.</p>\n<blockquote>\n<p>Side note: Dracula is the theme used in the above gifs and images.</p>\n</blockquote>\n<p>💾 <a href="https://marketplace.visualstudio.com/items?itemName=dracula-theme.theme-dracula" target="_blank" rel="nofollow">Dracula Official</a> at VS Marketplace</p>'}},{node:{frontmatter:{path:"/conditional-array-object-literals",author:"Kalle Bornemark",date:"31st August 2018",title:"Conditionally adding entries to array and object literals in Javascript"},fields:{twitterAvatarUrl:"https://pbs.twimg.com/profile_images/1041433650670329858/ovH4bEC5_normal.jpg"},excerpt:"The problem A common way to define an array in Javascript is to use an array literal. However, it’s sometimes desirable to populate the array conditionally based on the value of some variable. Perhaps you’ve attempted to accomplish…",html:'<h2 id="the-problem"><a href="#the-problem" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The problem</h2>\n<p>A common way to define an array in Javascript is to use an array literal.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'burrito 🥙\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'donut 🍩\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'bottle of champagne 🍾\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>However, it’s sometimes desirable to populate the array conditionally based on the value of some variable. Perhaps you’ve attempted to accomplish this in the past with a ternary operator:</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'burrito 🥙\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'donut 🍩\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'bottle of champagne 🍾\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  isSunny <span class="token operator">?</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'sunglasses 🕶\'</span> <span class="token punctuation">}</span> <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n\nisSunny <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object, Object]</span>\nisSunny <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object, null]</span></code></pre>\n      </div>\n<p>or with the <code class="language-text">&amp;&amp;</code> operator.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'burrito 🥙\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'donut 🍩\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'bottle of champagne 🍾\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  isSunny <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'sunglasses 🕶\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n\nisSunny <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object, Object]</span>\nisSunny <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object, false]</span></code></pre>\n      </div>\n<p>Both of the above result in either <code class="language-text">null</code> or <code class="language-text">false</code> being added to the array if <code class="language-text">isSunny</code> is false, which is not what we want.</p>\n<h2 id="the-solution"><a href="#the-solution" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The solution</h2>\n<p>To solve this, we have two options.</p>\n<h3 id="using-filter"><a href="#using-filter" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using filter</h3>\n<p>One rather clean and readable approach is to populate the array using the <code class="language-text">&amp;&amp;</code> operator, and then remove its falsy values by chaining on a <code class="language-text">filter</code> call.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'burrito 🥙\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'donut 🍩\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'bottle of champagne 🍾\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  isSunny <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'sunglasses 🕶\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>Boolean<span class="token punctuation">)</span>\n\nisSunny <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object, Object]</span>\nisSunny <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object]</span></code></pre>\n      </div>\n<h3 id="using-the-spread-operator"><a href="#using-the-spread-operator" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using the spread operator</h3>\n<p>Another approach is to leverage the fact that <strong>spreading an empty array inside another array doesn’t result in anything</strong>.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'burrito 🥙\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'donut 🍩\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'bottle of champagne 🍾\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token operator">...</span><span class="token punctuation">(</span>isSunny <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'sunglasses 🕶\'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n\nisSunny <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object, Object]</span>\nisSunny <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object]</span></code></pre>\n      </div>\n<h3 id="what-about-object-literals"><a href="#what-about-object-literals" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What about object literals?</h3>\n<p>While the above approach can look a bit messy at first, it has the benefit of not only working with array literals, but with object literals too.</p>\n<p>In the example below, the <code class="language-text">model</code> property will only be added if <code class="language-text">includeModelName</code> is true. Otherwise nothing is added.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> sunglasses <span class="token operator">=</span> <span class="token punctuation">{</span>\n  name<span class="token punctuation">:</span> <span class="token string">\'sunglasses 🕶\'</span><span class="token punctuation">,</span>\n  color<span class="token punctuation">:</span> <span class="token string">\'black\'</span><span class="token punctuation">,</span>\n  <span class="token operator">...</span><span class="token punctuation">(</span>includeModelName <span class="token operator">?</span> <span class="token punctuation">{</span> model<span class="token punctuation">:</span> <span class="token string">\'Ray-Ban Wayfarer\'</span> <span class="token punctuation">}</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>\n\nincludeModelName <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// {name: "sunglasses 🕶", color: "black", model: "Ray-Ban Wayfarer"}</span>\nincludeModelName <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// {name: "sunglasses 🕶", color: "black"}</span></code></pre>\n      </div>\n<p>And that’s pretty neat!</p>\n<h4 id="update-2018-12-25"><a href="#update-2018-12-25" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Update 2018-12-25</h4>\n<p>Here’s a slightly shorter version of the same approach as above.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> sunglasses <span class="token operator">=</span> <span class="token punctuation">{</span>\n  name<span class="token punctuation">:</span> <span class="token string">\'sunglasses 🕶\'</span><span class="token punctuation">,</span>\n  color<span class="token punctuation">:</span> <span class="token string">\'black\'</span><span class="token punctuation">,</span>\n  <span class="token operator">...</span><span class="token punctuation">(</span>includeModelName <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> model<span class="token punctuation">:</span> <span class="token string">\'Ray-Ban Wayfarer\'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>Thanks <a href="https://www.reddit.com/user/lachlanhunt" target="_blank" rel="nofollow">lachlanhunt</a> for the tip!</p>'
}},{node:{frontmatter:{path:"/webpack-aliases-typescript",author:"Kalle Bornemark",date:"14th August 2018",title:"Using Webpack aliases with Typescript and Jest"},fields:{twitterAvatarUrl:"https://pbs.twimg.com/profile_images/1041433650670329858/ovH4bEC5_normal.jpg"},excerpt:"This small tutorial will show you how to set up  Webpack  aliases for your  Typescript  and  Jest  project. The problem Importing files with relative paths is fine in small projects, but once the project starts growing it can become a…",html:'<p>This small tutorial will show you how to set up <a href="https://webpack.js.org/" target="_blank" rel="nofollow">Webpack</a> aliases for your <a href="https://www.typescriptlang.org/" target="_blank" rel="nofollow">Typescript</a> and <a href="https://jestjs.io/" target="_blank" rel="nofollow">Jest</a> project.</p>\n<h2 id="the-problem"><a href="#the-problem" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The problem</h2>\n<p>Importing files with relative paths is fine in small projects, but once the project starts growing it can become a burden. Many of us have found ourselves writing something like this in the past:</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">import</span> Foo <span class="token keyword">from</span> <span class="token string">\'../../../../components/Foo\'</span></code></pre>\n      </div>\n<p>This not only requires one to figure out what the path should be, but is also very likely to break if (when) files get moved around.</p>\n<h2 id="webpack-to-the-rescue"><a href="#webpack-to-the-rescue" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Webpack to the rescue!</h2>\n<p>To solve this, Webpack provides users with <a href="https://webpack.js.org/configuration/resolve/#resolve-alias" target="_blank" rel="nofollow">resolve.alias</a> which allows for concise and consistent file imports.</p>\n<p>Assuming our <code class="language-text">components</code> folder live inside a root-level <code class="language-text">src</code> folder, we can create a <code class="language-text">Components</code> alias like so:</p>\n<h4 id="-webpackconfigjs"><a href="#-webpackconfigjs" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>📄 webpack.config.js</h4>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'path\'</span><span class="token punctuation">)</span>\n\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token comment">// ...</span>\n  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n      Components<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">\'src/components/\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>We can now refactor the above import in a way that is much cleaner and that doesn’t depend on the file’s location relative to <code class="language-text">Foo</code>.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">import</span> Foo <span class="token keyword">from</span> <span class="token string">\'Components/Foo\'</span></code></pre>\n      </div>\n<h2 id="with-typescript"><a href="#with-typescript" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>With Typescript</h2>\n<p>This is all great, but in order to make this work with Typescript, a final step is required. At the moment, our alias isn’t known by Typescript and will thus produce an error when referenced. To fix this, add the alias to <code class="language-text">tsconfig.json</code>.</p>\n<h4 id="-tsconfigjson"><a href="#-tsconfigjson" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>📄 tsconfig.json</h4>\n<div class="gatsby-highlight">\n      <pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>\n  <span class="token property">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    // ...\n    <span class="token property">"paths"</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token property">"Components/*"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"./src/components/*"</span> <span class="token punctuation">]</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<h2 id="with-jest"><a href="#with-jest" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>With Jest</h2>\n<p>Using aliases for commonly accessed paths creates a good workflow to build your app with, and you probably want to keep using these aliases when writing tests. So far, we’ve added the <code class="language-text">components</code> alias to <code class="language-text">webpack.config.js</code> and <code class="language-text">tsconfig.json</code>, but since the Typescript inside our Jest tests isn’t part of the same transpilation step as the rest of our codebase, the alias also needs to be added to our Jest configuration.</p>\n<p>Unless specified otherwise, Jest is configured inside <code class="language-text">package.json</code>. To make Jest aware of our <code class="language-text">components</code> alias, add it to <code class="language-text">moduleNameMapper</code>.</p>\n<h4 id="-packagejson"><a href="#-packagejson" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>📄 package.json</h4>\n<div class="gatsby-highlight">\n      <pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>\n  // ...\n  <span class="token property">"jest"</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    // ...\n    <span class="token property">"moduleNameMapper"</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token property">"^Components/(.*)"</span><span class="token operator">:</span> <span class="token string">"&lt;rootDir>/src/components/$1"</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>Note: This assumes that you’ve already set up Jest correctly in your React/Typescript project.</p>\n<p>That’s it! 🎉 Our Webpack alias should now also work inside Jest tests.</p>'}}]}},pathContext:{}}}});
//# sourceMappingURL=path---index-850535a9b048d1c4f0a5.js.map