<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-tsx-e4ce13453f3d99aaf35d.js" as="script"/><link rel="preload" href="/component---src-templates-post-tsx-4438bf9303670ff1cc16.js" as="script"/><link rel="preload" href="/path---conditional-array-object-literals-48c04deb632def3b59e5.js" as="script"/><link rel="preload" href="/app-40c020985d39ed259d31.js" as="script"/><link rel="preload" href="/commons-e8ba142de36a99798fa1.js" as="script"/><style data-styled="eQDUlF  UVPyW gcWijQ dEQjuT dQCQoi eFVVgn czLAdz kujdmZ bNUVVB ffaTEG jUUdTu bxxfjM LSCTT bRNLtn kEPMDu bApxKe heqWtj jyrHok isLfyz kXmXmY eNtQGD cmGiRa" data-styled-version="4.1.3">
/* sc-component-id: sc-bdVaJa */
.eNtQGD{text-align:center;margin:8rem 0 2.5rem 0;font-size:1.4em;} @media (max-width:800px){.eNtQGD{font-size:1.2em;}}
/* sc-component-id: sc-bwzfXH */
.cmGiRa{color:#3ea7bb;}
/* sc-component-id: sc-global-2987173193 */
html{height:100%;font-size:10px;font-family:Montserrat,-apple-system,BlinkMacSystemFont,'Segoe UI', Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji', 'Segoe UI Symbol';} body{min-height:100%;color:hsla(0,0%,0%,0.9);} *{margin:0;padding:0;box-sizing:border-box;} a{-webkit-text-decoration:none;text-decoration:none;color:inherit;}
/* sc-component-id: sc-htpNat */
.eQDUlF{display:grid;min-height:100vh;grid-template-rows:auto 1fr auto;}
/* sc-component-id: sc-bxivhb */
.UVPyW{background-color:#fff;color:#352f4a;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;-webkit-transition:height 0.1s ease-out;transition:height 0.1s ease-out;height:5rem;position:fixed;box-shadow:0 3px 5px rgba(57,63,72,0.15);z-index:99;padding:0 2rem;} @media (max-width:800px){.UVPyW{height:5rem;}}
/* sc-component-id: sc-ifAKCX */
.gcWijQ{max-width:700px;width:100%;height:100%;}
/* sc-component-id: sc-EHOje */
.dEQjuT{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:100%;width:100%;text-align:center;} @media (max-width:800px){.dEQjuT{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}}
/* sc-component-id: sc-bZQynM */
.dQCQoi{font-size:2.3rem;font-weight:400;line-height:2.5rem;-webkit-letter-spacing:1.1px;-moz-letter-spacing:1.1px;-ms-letter-spacing:1.1px;letter-spacing:1.1px;-webkit-transition:font-size 1s ease;transition:font-size 1s ease;} @media (max-width:800px){.dQCQoi{font-size:2.3rem;}}
/* sc-component-id: sc-gzVnrw */
.eFVVgn{font-size:0.8em;color:#3ea7bb;margin:0 .35rem 0 .3rem;}
/* sc-component-id: sc-dnqmqq */
.kEPMDu{width:100%;max-width:700px;}
/* sc-component-id: sc-iwsKbI */
.heqWtj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:0 16px;}
/* sc-component-id: sc-gZMcBi */
.bApxKe{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;margin:10rem 0 6rem 0;line-height:0px;-webkit-letter-spacing:20px;-moz-letter-spacing:20px;-ms-letter-spacing:20px;letter-spacing:20px;color:#c5c5c5;text-align:center;} @media (max-width:800px){.bApxKe{margin:6rem 0 5rem 0;}}
/* sc-component-id: sc-gqjmRU */
.jyrHok{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;opacity:0.7;} .jyrHok:hover{opacity:1;}
/* sc-component-id: sc-VigVT */
.isLfyz{width:32px;height:32px;margin-right:16px;}
/* sc-component-id: sc-jTzLTM */
.kXmXmY{font-size:1.6em;} @media (max-width:730px){.kXmXmY{font-size:1.3em;}}
/* sc-component-id: sc-fjdhpX */
.ffaTEG{color:#35304ab0;font-size:1.35rem;white-space:break-spaces;display:block;} @media (max-width:550px){}
/* sc-component-id: sc-jzJRlG */
.jUUdTu{margin:0 0.8rem;font-weight:bold;}
/* sc-component-id: sc-cSHVUG */
.bxxfjM{margin-right:1rem;}
/* sc-component-id: sc-kAzzGY */
.czLAdz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-width:0;padding:0 2rem;}
/* sc-component-id: sc-chPdSV */
.kujdmZ{max-width:700px;width:100%;min-height:20rem;margin:19rem 0 6rem;} .kujdmZ > *:not(:last-child){margin-bottom:0.8rem;} @media (max-width:550px){.kujdmZ{margin-bottom:0;margin-top:14rem;}}
/* sc-component-id: sc-kgoBCf */
.LSCTT{width:100%;max-width:700px;font-size:2em;margin-bottom:2rem;}
/* sc-component-id: sc-kGXeez */
.bNUVVB{grid-area:title;color:#352f4a;font-weight:bold;font-size:3.2em;} @media (max-width:550px){.bNUVVB{font-size:2.8em;}}
/* sc-component-id: sc-ckVGcZ */
.bRNLtn{max-width:700px;font-size:1.6em;line-height:1.8em;color:#333333;width:100%;} @media (max-width:800px){.bRNLtn{font-size:1.5em;}} .bRNLtn > *:not(:first-child){margin-top:32px;} .bRNLtn h2{font-size:1.3em;} .bRNLtn h2 + *,.bRNLtn h3 + *,.bRNLtn h4 + *,.bRNLtn h5 + *,.bRNLtn h6 + *{margin-top:16px !important;} .bRNLtn hr{border-top:none;border-color:lightgray;} .bRNLtn ul,.bRNLtn ol{margin-left:1.1em;} .bRNLtn ul > li:not(:last-child),.bRNLtn ol > li:not(:last-child){margin-bottom:1rem;} .bRNLtn a{word-break:break-all;color:#3ea7bb;-webkit-text-decoration:underline;text-decoration:underline;} .bRNLtn a:visited{color:#3ea7bb;} .bRNLtn img{border-radius:4px;max-width:100%;} .bRNLtn img + em,.bRNLtn .gatsby-resp-image-wrapper + em{display:block;width:100%;font-size:1.4rem;font-style:normal;line-height:2rem;text-align:center;margin-top:8px;} .bRNLtn pre{overflow:auto;padding:12px;font-size:1.4rem;border-radius:4px;word-break:break-all;} .bRNLtn pre code{padding:0;} .bRNLtn code{background-color:#f8f8f8;padding:4px 8px;font-size:14px;} .bRNLtn blockquote{background-color:#352f4a;padding-left:8px;color:#757575;font-style:italic;} .bRNLtn blockquote p{background-color:white;padding-left:8px;} .bRNLtn iframe{border:none;} .bRNLtn p > a{word-break:keep-all;}</style><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><title data-react-helmet="true">Conditionally adding entries to array and object literals in Javascript | code &amp; such</title><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTAxLTIwVDIxOjAzOjEwKzAxOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE5LTAxLTIwVDIxOjAzOjEwKzAxOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOS0wMS0yMFQyMTowMzoxMCswMTowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5Yjg4ZGI5ZS1hZThjLTVlNDctYWJlYi1hYTcxNzJiNTllOWIiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmYWIwY2U3OC04OGY1LWMxNGYtYjBmNC1iMmM0MDAzYzU1Y2EiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1NGZlODEwZS0xN2YzLTQ4NDEtOTk0OS03NDY4ZTI1ZWI3MzAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1NGZlODEwZS0xN2YzLTQ4NDEtOTk0OS03NDY4ZTI1ZWI3MzAiIHN0RXZ0OndoZW49IjIwMTktMDEtMjBUMjE6MDM6MTArMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OWI4OGRiOWUtYWU4Yy01ZTQ3LWFiZWItYWE3MTcyYjU5ZTliIiBzdEV2dDp3aGVuPSIyMDE5LTAxLTIwVDIxOjAzOjEwKzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+lFOFqwAAAhhJREFUOI2Nkr9PE2EYxz/3o2eveKlESrlKQlGjp6TFKoNhwambiZPOMkA0TAwkTuz8C+7oyu/oqpOLwaU14KA2rRHUK71rtXfvvQ4EDLZFv+P7Ps+T7+f5Psr8/PxBqVSy6CEpJb7vMzMzQ6FQuCuEWC+Xy4yNjWFZFnoikWBpaQnHcYiiqGOAYRjs7OywuLiI53lrxWLx6CsCLmhTU1NPHMc5I4Rgf38f13Wp1+vouo5pmgDEYjFyuRzrGxs8X16mr3nA2ouXyo2JiVldSommadi23eFACAGAaZrk83nG83myo1nuXb/M05UNXNdFVxQFIQS1Wo1Wq4WiKB0YQgiGMhe5Mx5Dj19i89VnYufTZEdGUHst70hhGHJuYJiz4TZO6iNbq88old7zcHo6SiaTV05FAEA3wH2L3thk5bVH6avNo8ezpAdTV4Mg+HIqglAS9IkyA61VuPaASvMdk5NJ0oOpQhAEuwB6L+tCMUmIXdLBFj+0HKp6G+Q2uqZQqVRot9uHBrsiaAb4H+DTJiRv0T90HyOmIqVASnmS8G8EqcaJiyp2sIKvjlDzbtL/7Tv2UKprQidSkIqOIX3S0Rtaaoq9WBFN0/G9+mGx2hnaMUImk+HnrzbeXpUoUcQcGCarxkH+SebosLoiVKtVPM/Dsizi9ihhGJ5o7qWuSwzD8J+NxwOazSYLCwv/VdxoNJibm0PTtOO33wUC+RqjHDCJAAAAAElFTkSuQmCC"/><meta data-react-helmet="true" name="theme-color" content="#352f4a"/><meta data-react-helmet="true" name="description" content="The problem A common way to define an array in Javascript is to use an array literal. However, it’s sometimes desirable to populate the array conditionally based on the value of some variable. Perhaps you’ve attempted to accomplish this in the past with a ternary operator: or with the   operator. Both of the above…"/><style id="gatsby-inlined-css">pre{color:#1b1b1b;background-color:#f8f8f8}.token.cdata,.token.doctype,.token.prolog{color:#3ea7bb}.token.punctuation{color:#5f6364}.token.block-comment,.token.comment{color:#b3b9bb}.token.atrule,.token.attr-value,.token.boolean,.token.constant,.token.deleted,.token.function-name,.token.keyword,.token.number,.token.property,.token.symbol,.token.tag{color:#f05f40}.token.attr-name,.token.builtin,.token.char,.token.class-name,.token.function,.token.inserted,.token.selector,.token.string{color:#3ea7bb}.token.entity,.token.important,.token.operator,.token.regex,.token.url,.token.variable{color:#9756e1}.language-css .token.string,.style .token.string{color:#3ea7bb}.token.important{font-weight:400}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.namespace{opacity:.7}.token.cr:before,.token.lf:before,.token.tab:not(:empty):before{color:#e0d7d1}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100.191cc9f5.woff2) format("woff2"),url(/static/montserrat-latin-100.37031846.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic.bdeaeb79.woff2) format("woff2"),url(/static/montserrat-latin-100italic.ecf7d493.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200.85d5ef9d.woff2) format("woff2"),url(/static/montserrat-latin-200.1fc98e12.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic.49095760.woff2) format("woff2"),url(/static/montserrat-latin-200italic.fe46cf8b.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300.7c3daf12.woff2) format("woff2"),url(/static/montserrat-latin-300.8dc95fab.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic.f20b178c.woff2) format("woff2"),url(/static/montserrat-latin-300italic.3fe16939.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400.bc3aa95d.woff2) format("woff2"),url(/static/montserrat-latin-400.8102c483.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic.5cad6504.woff2) format("woff2"),url(/static/montserrat-latin-400italic.d191f22a.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500.92d16e45.woff2) format("woff2"),url(/static/montserrat-latin-500.8b763220.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic.47bfcca6.woff2) format("woff2"),url(/static/montserrat-latin-500italic.72c01f75.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600.6fb1b562.woff2) format("woff2"),url(/static/montserrat-latin-600.7c839d15.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic.60789af1.woff2) format("woff2"),url(/static/montserrat-latin-600italic.f3d4de8d.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700.39d93cf6.woff2) format("woff2"),url(/static/montserrat-latin-700.80f10bd3.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic.ba136d97.woff2) format("woff2"),url(/static/montserrat-latin-700italic.8c98142b.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800.b7018be9.woff2) format("woff2"),url(/static/montserrat-latin-800.9a9befcf.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic.540ffdd2.woff2) format("woff2"),url(/static/montserrat-latin-800italic.897086f9.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900.58cd7897.woff2) format("woff2"),url(/static/montserrat-latin-900.26d42c94.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic.451157bc.woff2) format("woff2"),url(/static/montserrat-latin-900italic.a8ec4957.woff) format("woff")}</style></head><body><div id="___gatsby"><div class="sc-htpNat eQDUlF"><a class="sc-bxivhb UVPyW" href="/"><header class="sc-ifAKCX gcWijQ"><div class="sc-EHOje dEQjuT"><h1 class="sc-bZQynM dQCQoi">code<span class="sc-gzVnrw eFVVgn">&amp;</span>such</h1></div></header></a><article class="sc-kAzzGY czLAdz"><header class="sc-chPdSV kujdmZ"><h1 class="sc-kGXeez bNUVVB">Conditionally adding entries to array and object literals in Javascript</h1><small class="sc-fjdhpX ffaTEG"><a href="https://www.twitter.com/@kallebornemark">Kalle Bornemark</a><span class="sc-jzJRlG jUUdTu">•</span>31st August 2018<span class="sc-jzJRlG jUUdTu">•</span><span class="sc-cSHVUG bxxfjM">☕</span>3 min read</small></header><div class="sc-kgoBCf LSCTT"><a href="/">←</a></div><div class="sc-ckVGcZ bRNLtn"><h2 id="the-problem"><a href="#the-problem" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The problem</h2>
<p>A common way to define an array in Javascript is to use an array literal.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'burrito 🥙'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'donut 🍩'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'bottle of champagne 🍾'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>However, it’s sometimes desirable to populate the array conditionally based on the value of some variable. Perhaps you’ve attempted to accomplish this in the past with a ternary operator:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'burrito 🥙'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'donut 🍩'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'bottle of champagne 🍾'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  isSunny <span class="token operator">?</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'sunglasses 🕶'</span> <span class="token punctuation">}</span> <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

isSunny <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object, Object]</span>
isSunny <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object, null]</span></code></pre>
      </div>
<p>or with the <code class="language-text">&amp;&amp;</code> operator.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'burrito 🥙'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'donut 🍩'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'bottle of champagne 🍾'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  isSunny <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'sunglasses 🕶'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

isSunny <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object, Object]</span>
isSunny <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object, false]</span></code></pre>
      </div>
<p>Both of the above result in either <code class="language-text">null</code> or <code class="language-text">false</code> being added to the array if <code class="language-text">isSunny</code> is false, which is not what we want.</p>
<h2 id="the-solution"><a href="#the-solution" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The solution</h2>
<p>To solve this, we have two options.</p>
<h3 id="using-filter"><a href="#using-filter" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using filter</h3>
<p>One rather clean and readable approach is to populate the array using the <code class="language-text">&amp;&amp;</code> operator, and then remove its falsy values by chaining on a <code class="language-text">filter</code> call.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'burrito 🥙'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'donut 🍩'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'bottle of champagne 🍾'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  isSunny <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'sunglasses 🕶'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>Boolean<span class="token punctuation">)</span>

isSunny <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object, Object]</span>
isSunny <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object]</span></code></pre>
      </div>
<h3 id="using-the-spread-operator"><a href="#using-the-spread-operator" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using the spread operator</h3>
<p>Another approach is to leverage the fact that <strong>spreading an empty array inside another array doesn’t result in anything</strong>.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> picnicBasket <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'burrito 🥙'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'donut 🍩'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'bottle of champagne 🍾'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">...</span><span class="token punctuation">(</span>isSunny <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'sunglasses 🕶'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

isSunny <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object, Object]</span>
isSunny <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// [Object, Object, Object]</span></code></pre>
      </div>
<h3 id="what-about-object-literals"><a href="#what-about-object-literals" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What about object literals?</h3>
<p>While the above approach can look a bit messy at first, it has the benefit of not only working with array literals, but with object literals too.</p>
<p>In the example below, the <code class="language-text">model</code> property will only be added if <code class="language-text">includeModelName</code> is true. Otherwise nothing is added.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> sunglasses <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'sunglasses 🕶'</span><span class="token punctuation">,</span>
  color<span class="token punctuation">:</span> <span class="token string">'black'</span><span class="token punctuation">,</span>
  <span class="token operator">...</span><span class="token punctuation">(</span>includeModelName <span class="token operator">?</span> <span class="token punctuation">{</span> model<span class="token punctuation">:</span> <span class="token string">'Ray-Ban Wayfarer'</span> <span class="token punctuation">}</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

includeModelName <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// {name: "sunglasses 🕶", color: "black", model: "Ray-Ban Wayfarer"}</span>
includeModelName <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>picnicBasket<span class="token punctuation">)</span> <span class="token comment">// {name: "sunglasses 🕶", color: "black"}</span></code></pre>
      </div>
<p>And that’s pretty neat!</p>
<h4 id="update-2018-12-25"><a href="#update-2018-12-25" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Update 2018-12-25</h4>
<p>Here’s a slightly shorter version of the same approach as above.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> sunglasses <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'sunglasses 🕶'</span><span class="token punctuation">,</span>
  color<span class="token punctuation">:</span> <span class="token string">'black'</span><span class="token punctuation">,</span>
  <span class="token operator">...</span><span class="token punctuation">(</span>includeModelName <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> model<span class="token punctuation">:</span> <span class="token string">'Ray-Ban Wayfarer'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>Thanks <a href="https://www.reddit.com/user/lachlanhunt" target="_blank" rel="nofollow">lachlanhunt</a> for the tip!</p></div><div class="sc-dnqmqq kEPMDu"><div class="sc-gZMcBi bApxKe">°°°</div><div class="sc-iwsKbI heqWtj"><a href="https://twitter.com/intent/tweet?text=Conditionally%20adding%20entries%20to%20array%20and%20object%20literals%20in%20Javascript%20by%20@kallebornemark%20https://codeandsuch.github.io/conditional-array-object-literals" target="_blank" rel="noreferrer noopener" class="sc-gqjmRU jyrHok"><img src="data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjMURBMUYyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj4KICA8cGF0aCBkPSJNMTAwIDE5YTQxIDQxIDAgMCAxLTExLjc4IDMuMjMgMjAuNiAyMC42IDAgMCAwIDktMTEuMzQgNDEuMzYgNDEuMzYgMCAwIDEtMTMgNSAyMC41MyAyMC41MyAwIDAgMC0zNSAxOC43QTU4LjI0IDU4LjI0IDAgMCAxIDcgMTMuMTRhMjAuNTQgMjAuNTQgMCAwIDAgNi4zNSAyNy4zOEEyMC41MiAyMC41MiAwIDAgMSA0IDM4di4yNmEyMC41MyAyMC41MyAwIDAgMCAxNi40OCAyMC4wNiAyMC43OCAyMC43OCAwIDAgMS01LjQxLjcyIDE5LjY5IDE5LjY5IDAgMCAxLTMuODYtLjM4IDIwLjUyIDIwLjUyIDAgMCAwIDE5LjE2IDE0LjI1IDQxLjE2IDQxLjE2IDAgMCAxLTI1LjQ4IDguNzdBNDMuNiA0My42IDAgMCAxIDAgODEuMzlhNTggNTggMCAwIDAgMzEuNDQgOS4yM2MzNy43NCAwIDU4LjM2LTMxLjI2IDU4LjM2LTU4LjM2bC0uMDctMi42NkE0MSA0MSAwIDAgMCAxMDAgMTl6Ii8+Cjwvc3ZnPg==" alt="Share on Twitter" class="sc-VigVT isLfyz"/><span class="sc-jTzLTM kXmXmY">Liked this post? Feel free to share it on Twitter!</span></a></div></div></article><footer class="sc-bdVaJa eNtQGD">MIT Ⓒ <a href="https://kallebornemark.github.io/" class="sc-bwzfXH cmGiRa">Kalle Bornemark</a></footer></div></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-40c020985d39ed259d31.js","99219681209289":"component---node-modules-gatsby-plugin-offline-app-shell-js-5c4c5a0f7af9dc69d6d7.js","30862416422887":"component---src-templates-post-tsx-4438bf9303670ff1cc16.js","178469467687848":"component---src-pages-404-tsx-9e0a50f5039fbf8c8c03.js","221374088121123":"component---src-pages-index-tsx-eea98b07b7c73648fd3c.js","60335399758886":"path----557518bd178906f8d58a.js","210333531512890":"path---offline-plugin-app-shell-fallback-a0e39f21c11f6a62c5ab.js","228344554384884":"path---extensions-sept-18-c0ce872e02e0348c4fb3.js","195004302411781":"path---conditional-array-object-literals-48c04deb632def3b59e5.js","109763708754463":"path---webpack-aliases-typescript-dac3aa2cce8355edc53a.js","266549308373791":"path---container-security-71692cababaae6b4ed78.js","204281452866430":"path---simplify-backticks-3c377fce8fb844cf0f34.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","142629428675168":"path---index-8b98e584401e539ef9ab.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","22676092666560":"component---src-layouts-index-tsx-e4ce13453f3d99aaf35d.js"}/*]]>*/</script><script>
            
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-41576939-5', 'auto');
      }
      </script><script>/*<![CDATA[*/["/commons-e8ba142de36a99798fa1.js","/app-40c020985d39ed259d31.js","/path---conditional-array-object-literals-48c04deb632def3b59e5.js","/component---src-templates-post-tsx-4438bf9303670ff1cc16.js","/component---src-layouts-index-tsx-e4ce13453f3d99aaf35d.js"].forEach(function(s){document.write('<script src="'+s+'" defer></'+'script>')})/*]]>*/</script></body></html>